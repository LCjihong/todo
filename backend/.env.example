# ============================================
# Todo 应用后端环境变量配置示例
# ============================================
# 
# 使用方法：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况修改配置值
# 3. 生产环境请务必修改所有密钥和安全相关配置
# ============================================

# ============================================
# 数据库配置
# ============================================
# SQLite 数据库文件路径（相对路径或绝对路径）
# 开发环境使用相对路径，生产环境建议使用绝对路径
# 示例：
#   - 开发: file:./dev.db
#   - 生产: file:/var/www/todo-app/backend/prod.db
DATABASE_URL="file:./dev.db"

# ============================================
# JWT 认证配置
# ============================================
# Access Token 密钥（用于生成和验证 Access Token）
# ⚠️ 生产环境必须使用强随机字符串（建议至少 32 个字符）
# 生成方式: openssl rand -base64 32
JWT_ACCESS_SECRET="your-access-token-secret-change-in-production"

# Refresh Token 密钥（用于生成和验证 Refresh Token）
# ⚠️ 生产环境必须使用强随机字符串（建议至少 32 个字符）
# 生成方式: openssl rand -base64 32
# ⚠️ 注意：Access Token 和 Refresh Token 密钥必须不同
JWT_REFRESH_SECRET="your-refresh-token-secret-change-in-production"

# Access Token 过期时间
# 格式: 数字 + 单位 (s=秒, m=分钟, h=小时, d=天)
# 示例: "15m" (15分钟), "1h" (1小时), "30s" (30秒)
# 建议: 15分钟（安全性考虑）
JWT_ACCESS_EXPIRES_IN="15m"

# Refresh Token 过期时间
# 格式: 数字 + 单位 (s=秒, m=分钟, h=小时, d=天)
# 示例: "7d" (7天), "30d" (30天), "14d" (14天)
# 建议: 7天（平衡安全性和用户体验）
JWT_REFRESH_EXPIRES_IN="7d"

# ============================================
# 服务器配置
# ============================================
# 服务器监听端口
# 默认: 3000
# 注意: 如果使用反向代理（如 Nginx），通常使用 3000
PORT=3000

# 运行环境
# 可选值: development | production | test
# development: 开发环境（详细日志、热重载等）
# production: 生产环境（优化性能、简化日志等）
NODE_ENV="development"

# ============================================
# CORS 跨域配置
# ============================================
# 允许的前端域名（CORS 跨域资源共享）
# 开发环境: http://localhost:5173 (Vite 默认端口)
# 生产环境: 您的实际前端域名，如 https://todo.example.com
# 多个域名用逗号分隔: "http://localhost:5173,https://todo.example.com"
# 允许所有来源（不推荐生产环境）: "*"
CORS_ORIGIN="http://localhost:5173"

# ============================================
# 日志配置（可选）
# ============================================
# 日志级别
# 可选值: error | warn | info | verbose | debug | silly
# 开发环境建议: debug
# 生产环境建议: info
LOG_LEVEL="debug"

# ============================================
# 安全配置（可选）
# ============================================
# 密码加密轮数（bcrypt）
# 默认: 10（推荐值，平衡安全性和性能）
# 范围: 4-31，数值越大越安全但越慢
BCRYPT_ROUNDS=10
